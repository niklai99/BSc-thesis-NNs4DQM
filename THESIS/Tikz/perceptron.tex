\begin{tikzpicture}[shorten >=1pt,->,draw=black!50, node distance=\layersep, scale=0.5]
    \tikzstyle{every pin edge}=[<-,shorten <=1pt]
    \tikzstyle{neuron}=[circle,fill=black!25,minimum size=30pt,inner sep=0pt]
    \tikzstyle{input neuron}=[neuron, fill=green!40];
    \tikzstyle{weight neuron}=[neuron, fill=orange!40];
    \tikzstyle{output neuron}=[neuron, fill=red!40];
    \tikzstyle{hidden neuron}=[neuron, fill=black!30];
    \tikzstyle{annot} = [text width=4em, text centered]
    
    \node[input neuron, draw=black!100, thick, scale=0.75] (I-1) at (-\layersep,0) {$x_{1}$};
    \node[input neuron, draw=black!100, thick, scale=0.75] (I-2) at (-\layersep,-2.0) {$x_{2}$};
    \node[scale=0.75] (I-i) at (-\layersep,-4.0) {$\vdots$};
    \node[input neuron, draw=black!100, thick, scale=0.75] (I-n-1) at (-\layersep,-6.0) {$x_{n-1}$};
    \node[input neuron, draw=black!100, thick, scale=0.75] (I-n) at (-\layersep,-8.0) {$x_{n}$};
    
    \node[weight neuron, draw=black!100, thick, scale=0.75] (W-1) at (0.7*\layersep,0) {$w_{1}$};
    \node[weight neuron, draw=black!100, thick, scale=0.75] (W-2) at (0.7*\layersep,-2.0) {$w_{2}$};
    \node[scale=0.75] (W-i) at (0.5*\layersep,-4.0) {$\vdots$};
    \node[weight neuron, draw=black!100, thick, scale=0.75] (W-n-1) at (0.7*\layersep,-6.0) {$w_{n-1}$};
    \node[weight neuron, draw=black!100, thick, scale=0.75] (W-n) at (0.7*\layersep,-8.0) {$w_{n}$};
    
    \node[hidden neuron, draw=black!100, thick, scale=0.75, pin={[pin edge={-}]85:{weighted sum}}] (SUM) at (2.6*\layersep,-4.0) {$\sum$};
    
    \node[output neuron, draw=black!100, thick, scale=1.25, pin={[pin edge={->,black}]right:{$\displaystyle \text{output} =
	\begin{cases}
		0 & \text{if}\,\,\,\sum_i^n w_i x_i \le \text{threshold}\\
        1 & \text{if}\,\,\,\sum_i^n w_i x_i > \text{threshold}
	\end{cases}$}}, pin={[pin edge={-}]below:{perceptron}}] (STEP) at (4.8*\layersep,-4.0) {};  
    \draw[-, black, semithick] (5.2*\layersep,-3.5) -- (4.8*\layersep,-3.5) -- (4.8*\layersep,-4.5) -- (4.4*\layersep,-4.5);


    \node (multiply) at ($(I-1)!0.5!(W-1)$) {$\times$};
    \node (multiply) at ($(I-2)!0.5!(W-2)$) {$\times$};
    \node (multiply) at ($(I-n-1)!0.5!(W-n-1)$) {$\times$};
    \node (multiply) at ($(I-n)!0.5!(W-n)$) {$\times$};
    
    % \path[black] (I-1) edge (W-1);
    % \path[black] (I-2) edge (W-2);
    % \path[black] (I-n-1) edge (W-n-1);
    % \path[black] (I-n) edge (W-n);
    
    \path[black] (W-1) edge (SUM);
    \path[black] (W-2) edge (SUM);
    \path[black] (W-n-1) edge (SUM);
    \path[black] (W-n) edge (SUM);
    
    \path[black] (SUM) edge (STEP);
    
    \node[annot,above of=I-1, node distance=1.0cm] (i1) {inputs};
    \node[annot,above of=W-1, node distance=1.0cm] (w1) {weights};
\end{tikzpicture}